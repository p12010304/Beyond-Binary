# 語音導航功能說明 (Voice Navigation Guide)

## 功能簡介

語音導航讓視障或行動不便的使用者能夠透過語音快速導航到應用程式的任何頁面，並執行頁面內的功能，無需記住選單位置或使用滑鼠。

## 兩種導航模式

### 1. 頁面導航 (Page Navigation)
快速跳轉到不同的功能頁面。

### 2. 功能導航 (Function Navigation)
在當前頁面執行特定功能（如開始錄音、產生摘要等）。

## 如何使用

### 頁面導航

1. **按住快捷鍵**：`Ctrl + Shift + V`（Mac 上使用 `Cmd + Shift + V`）
2. **保持按住**：畫面右下角會出現「Page Navigation」指示器
3. **說出目標頁面**：說出你想前往的頁面名稱
4. **放開按鍵**：系統會導航到該頁面

### 功能導航

1. **按住快捷鍵**：`Ctrl + Shift + F`（Mac 上使用 `Cmd + Shift + F`）
2. **保持按住**：畫面右下角會出現「Function Navigation」指示器
3. **說出功能名稱**：說出你想執行的功能
4. **放開按鍵**：系統會執行該功能

**重要**: 必須**按住**快捷鍵期間說話，放開按鍵後語音識別會立即停止。

## 支援的語音指令

### 頁面導航指令

| 說這些關鍵字... | 會導航到... |
|----------------|------------|
| "Dashboard" 或 "Home" | 首頁 / 儀表板 |
| "Meeting" 或 "Transcribe" | 會議助手（Meeting Assist） |
| "Schedule" 或 "Calendar" | 行程管理（Schedule） |
| "Documents" 或 "Files" 或 "Email" | 文件與郵件（Documents） |
| "Prompt" 或 "AI" | AI 提示中樞（Prompt Hub） |
| "Settings" 或 "Preferences" | 設定（Settings） |

### 功能導航指令（Meeting Assist 頁面）

| 說這些關鍵字... | 執行功能... |
|----------------|------------|
| "Start" 或 "Record" | 開始錄音 |
| "Stop" 或 "Pause" | 停止錄音 |
| "Summarize" 或 "Summary" | 產生會議摘要 |
| "Read" 或 "Speak" | 朗讀內容 |
| "Reset" 或 "Clear" | 重置所有內容 |

**注意**: 不同頁面支援不同的功能指令。每個頁面會在標題下方顯示支援的語音指令。

## 使用範例

### 範例 1：頁面導航 - 前往會議助手
1. **按住** `Ctrl + Shift + V`
2. 說「Meeting」（保持按住快捷鍵）
3. **放開**快捷鍵
4. 系統自動導航到 Meeting Assist 頁面

### 範例 2：功能導航 - 開始錄音
1. 先導航到 Meeting Assist 頁面
2. **按住** `Ctrl + Shift + F`
3. 說「Start」或「Record」（保持按住快捷鍵）
4. **放開**快捷鍵
5. 系統開始錄音並語音確認

### 範例 3：功能導航 - 產生摘要
1. 在 Meeting Assist 頁面且已有錄音內容
2. **按住** `Ctrl + Shift + F`
3. 說「Summarize」（保持按住快捷鍵）
4. **放開**快捷鍵
5. 系統產生 AI 摘要

### 範例 4：取消操作
- **方法 1**: **放開**快捷鍵即可停止
- **方法 2**: 點擊浮動指示器的 `X` 按鈕
- **方法 3**: 8 秒後自動超時關閉

## 操作技巧

1. **按住說話，放開停止**：這是「按住通話」(Push-to-Talk) 模式，可以避免誤觸和背景雜音干擾。
2. **說話清晰**：使用英文關鍵字，清晰發音。
3. **觀察指示器**：浮動窗口會顯示即時辨識的文字，確認系統有聽到你的指令。
4. **部分匹配即可**：說「meet」也能匹配「meeting」，不需要說完整單字。
5. **快速操作**：整個流程只需 2-3 秒，非常適合快速切換與執行。

## 技術細節

- **語音識別**：使用瀏覽器內建的 Web Speech API
- **操作模式**：Push-to-Talk（按住說話）
- **關鍵字匹配**：不分大小寫，部分匹配即可（例如說「meet」也能匹配「meeting」）
- **逾時機制**：8 秒內未匹配到關鍵字會自動關閉
- **語音反饋**：所有狀態變化都會透過 TTS（文字轉語音）提供聲音提示
- **視覺反饋**：浮動指示器顯示當前模式與即時逐字稿
- **功能註冊**：每個頁面可註冊自己的語音功能，自動清理

## 瀏覽器相容性

需要支援 Web Speech API 的瀏覽器：
- ✅ Chrome / Edge（推薦）
- ✅ Safari（需開啟麥克風權限）
- ⚠️ Firefox（有限支援）

## 隱私說明

- 語音處理完全在瀏覽器本地執行
- 不會上傳語音資料到伺服器
- 使用瀏覽器內建的語音識別引擎

## 疑難排解

### 問題：按下快捷鍵沒反應
- **檢查**：確認瀏覽器支援 Web Speech API
- **解決**：嘗試使用 Chrome 或 Edge

### 問題：無法識別我的聲音
- **檢查**：確認麥克風權限已授予
- **解決**：說話清晰，使用英文關鍵字，並確保**按住**快捷鍵期間說話

### 問題：放開按鍵後沒反應
- **檢查**：確認你在按住期間說了完整的關鍵字
- **解決**：如果系統沒匹配到，會在 console 顯示「No match」訊息。嘗試使用更明確的關鍵字。

### 問題：功能導航沒有可用指令
- **檢查**：確認當前頁面是否支援功能導航
- **解決**：目前只有 Meeting Assist 頁面完整支援功能導航。其他頁面陸續加入中。

### 問題：快捷鍵衝突
- **解決**：組合鍵 `Ctrl + Shift + V/F` 已經較為冷門。如仍需調整，請在 `src/components/Layout.tsx` 中修改快捷鍵設定（第 141-162 行）。

## 反饋與改進

如果你有任何建議或遇到問題，請在 GitHub Issues 中回報。
